<%@page import="com.tjoeun.myCalendar.MyCalendar"%>
<%@page import="java.util.Date"%>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>만년 달력</title>

<style type="text/css">
	tr {
		height: 70px;
	}
	th {
		font-size: 16pt;
		width: 100px;
	}
	th#title {
		font-size: 20pt;
		font-family: D2coding;
		font-weight: bold;
		color: purple;
	}
	th#saturday{
		color: blue;
	}
	th#sunday{
		color: red;
	}
	td {
		text-align: right;
		vertical-align: top;
	}
	td.sun {
		color: red;
	}
	td.sat {
		color: blue;
	}


</style>
</head>
<body>

<%
	
	Date date = new Date();
	int year = date.getYear() + 1900;
	int month = date.getMonth() +1;
	
	year =Integer.parseInt(request.getParameter("year"));
	month =Integer.parseInt(request.getParameter("month"));
	
%>

<table width="700" border="1" align="center" cellpadding="5" cellspacing="0">
	<tr>
		<th>
			<a href="?year=<%=year%>&month=<%=month-1%>">이전달</a>
		</th>
		<th id="title" colspan="5">
			<%=year%>년 <%=month%>월
		</th>
		<th>
			<a href="?year=<%=year%>&month=<%=month+1%>">이전달</a>
		</th>
	</tr>
	
	<tr>
		<th id="sunday">일</th>
		<th>월</th>
		<th>화</th>
		<th>수</th>
		<th>목</th>
		<th>금</th>
		<th id="saturday">토</th>
	</tr>
	
	<tr>
<%

	int last = MyCalendar.lastDay(year, month);

	for(int i=1; i<=MyCalendar.weekDay(year, month, 1); i++){
		out.println("<td></td>");
	}

	for(int i=1; i<=MyCalendar.lastDay(year, month); i++){
		
		switch(MyCalendar.weekDay(year, month, i)) {
		case 0:
			out.println("<td class='sun'>" + i + "</td>");
			break;
		case 6: 
			out.println("<td class='sat'>" + i + "</td>");
			if(MyCalendar.weekDay(year, month, i)==6 && i==MyCalendar.lastDay(year, month)){
				
			} else {
			out.println("<tr></tr>");
			}
			break;
		default:
			out.println("<td>" + i + "</td>");
				break;
		}
	}
	
	for(int i=1; i<=6-MyCalendar.weekDay(year, month, last); i++){
		out.println("<td></td>");
	}
	
%>
	</tr>
	
	
</table>
</body>
</html>